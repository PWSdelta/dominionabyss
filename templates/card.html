{% extends "base.html" %}

{% block title %}{{ card.card_name }} Dominion Card Review & Strategy Guide{% endblock %}

{% block content %}
<div class="row">
  <div class="col-md-4">
    <img
      class="card-img card-hover"
      src="/card-front-images/{{ card.set_name|lower }}/{{ card.card_name|lower|replace(' ', '-') }}.jpg"
      alt="{{ card.card_name }}"
      style="cursor:pointer;"
      data-bs-toggle="modal" data-bs-target="#cardImageModal"
      id="mainCardImage"
    >
<!-- Modal for large card image -->
<div class="modal fade" id="cardImageModal" tabindex="-1" aria-labelledby="cardImageModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <img src="/card-front-images/{{ card.set_name|lower }}/{{ card.card_name|lower|replace(' ', '-') }}.jpg" alt="{{ card.card_name }}" />
      </div>
    </div>
  </div>
</div>
  
    <div class="text-muted small text-center mb-3" style="font-size: 0.97em;">
      Some card images may not be available for public viewing.
    </div>
</div>
  
  <div class="col-md-8">
    <h1>{{ card.card_name }} <small class="text-muted">({{ card.set_name }})</small></h1>
    <p><strong>Cost:</strong> {{ card.cost }}</p>
    <p><strong>Type:</strong> {{ card.type }}</p>
    <p><strong>Text:</strong> {{ card.card_text }}</p>

    <h2 class="mt-4">Strategy Review</h2>
        {% if strategy_html %}
            <div class="markdown-content">{{ strategy_html|autolink_cards|safe }}</div>
        {% else %}
            <p><em>No strategy review yet.</em></p>
        {% endif %}
  </div>
</div>
{% endblock %}
